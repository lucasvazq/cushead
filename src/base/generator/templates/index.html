{#



#}

<!doctype html>

{#  
    Root element.
    class "no-js" is used by Modernizr.js
#}
<html
    class="no-js"
    {% if "dir" in config %}
        dir="{{ config.dir }}"
    {% endif %}
    {% if "lang_data_with_hypen" in custom_data %}
        lang="{{ custom_data.lang_data_with_hypen }}"
    {% endif %}
    >

    <head>

        {#
            Here we include charset and X-UA-Compatible for IE first
            as most important metatags for the correct format and process of the page.
        #}
        <meta charset="utf-8">
        <!--[if IE]>
            <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <![endif]-->

        {#
            Google Tag Manager.
            We include at top, after the most important tags, to capture the user as soon as possible.
        #}
        {% if "google_tag_manager" in config %}
            <script>
                {% oneline %}
                    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                    })(window,document,'script','dataLayer','{{ config.google_tag_manager }}');
                {% endoneline %}
            </script>
        {% endif %}

        {# 
            Here we add some tags than impact in the first impresion that the user can we
            have of the site. They are the viewport, the title and the display format and the color of the browser
        #}
        <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
        {% if "title" in config %}
            <title>{{ config.title }}</title>
        {% endif %}
        {% if "background_color" in config %}
            <meta name="theme-color" content="{{ config.background_color }}">
        {% endif %}
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="mobile-web-app-capable" content="yes">

        {#
            Here define icons for the browsers.
            Its include the classic favicon, and some special icons with
            different sizes for android and apple.
            They are ordered yet, keeping classic favicon first,
            favicon with sizes then, and icons for safari to.
            Then, we define yandex icons.
        #}
        {% if "browser_icons" in custom_data %}
            {% for icon in custom_data.browser_icons %}
                {{ icon }}
            {% endfor %}
        {% endif %}

        {# Open Graph #}
        {% if "lang_data_with_underscore" in custom_data %}
            <meta property="og:locale" content="{{ custom_data.lang_data_with_underscore }}">
        {% endif %}
        <meta property="og:type" content="website">
        {% if "domain" in config %}
            <meta property="og:url" content="https://{{ config.domain }}">
        {% endif %}
        {% if "title" in config %}
            <meta property="og:site_name" content="{{ config.title }}">
            <meta property="og:title" content="{{ config.title }}">
        {% endif %}
        {% if "description" in config %}
            <meta property="og:description" content="{{ config.description }}">
        {% endif %}
        {% if "open_graph_images" in custom_data %}
            {% for image in custom_data.open_graph_images %}
                {{ complement_opengraph_images(image) }}
                <meta property="og:image:type" content="image/png">
                {% if "title_and_or_description" in custom_data %}
                    <meta property="og:image:alt" content="{{ custom_data.title_and_or_description }}">
                {% endif %}
            {% endfor %}
        {% endif %}

        {# Twitter cards #}
        <meta name="twitter:card" content="summary">
        {% if "twitter_username" in config %}
            <meta name="twitter:site" content="@{{ config.twitter_username }}">
        {% endif %}
        {% if "twitter_id" in config %}
            <meta name="twitter:site:id" content="{{ config.twitter_id }}">
        {% endif %}
        {% if "title" in config %}
            <meta name="twitter:title" content="{{ config.title }}">
        {% endif %}
        {% if "description" in config %}
            <meta name="twitter:description" content="{{ config.description }}">
        {% endif %}
        {% if "twitter_images" in custom_data %}
            {% for image in custom_data.twitter_images %}
                {{ image }}
                {% if "title_and_or_description" in custom_data %}
                    <meta name="twitter:image:alt" content="{{ custom_data.title_and_or_description }}">
                {% endif %}
            {% endfor %}
        {% endif %}
        {% if "twitter_username" in config %}
            <meta name="twitter:creator" content="@{{ config.twitter_username }}">
        {% endif %}
        {% if "twitter_id" in config %}
            <meta property="twitter:creator:id" content="{{ config.twitter_id }}">
        {% endif %}

        {#
            Load Google Fonts asynchronously

            Sources:
            https://stackoverflow.com/a/60477207/10712525
            https://web.dev/defer-non-critical-css/#optimize
        #}
        <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript>
            <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">
        </noscript>

        {# Space to add custom styles #}
        <style>
            /* Add here your custom styles */
        </style>

        {# Space to add head required javascript #}
        <script>
            // Add here your early load javascript
        </script>

        {# External Apps definition #}
        {% if "facebook_app_id" in config %}
            <meta porperty="fb:app_id" content="{{ config.facebook_app_id }}">
        {% endif %}
        {% if "itunes_app" in custom_data %}
            <meta name="apple-itunes-app" content="{{ custom_data.itunes_app }}">
        {% endif %}

        {# 
            Here define all configuration that are used when the app is installed in someway.
        #}
        {% if "apple_startup_icons" in custom_data %}
            {% for icon in custom_data.apple_startup_icons %}
                {{ icon }}
            {% endfor %}
        {% endif %}
        <link rel="manifest" href="{{ config.static_url }}/manifest.json">
        {% if "title" in config %}
            <meta name="application-name" content="{{ config.title }}">
        {% endif %}
        {% if "main_color" in config %}
            <meta name="msapplication-TileColor" content="{{ config.main_color }}">
        {% endif %}
        {% if "ms_icon" in custom_data %}
            {% for icon in custom_data.ms_icon %}
                {{ icon }}
            {% endfor %}
        {% endif %}
        <meta name="msapplication-config" content="{{ config.static_url }}/browserconfig.xml">
        {% if "title" in config %}
            <meta name="apple-mobile-web-app-title" content="{{ config.title }}">
        {% endif %}
        {% if "mask_icon" in custom_data %}
            {% for icon in custom_data.mask_icon %}
                {{ icon }}
            {% endfor %}
        {% endif %}
        {% if "title" in config %}
            <link rel="search" type="application/opensearchdescription+xml" title="{{ config.title }}" href="{{ config.static_url }}/opensearch.xml">
        {% endif %}

        {# Here define some configurations thats don't require to be load as fast as can #}
        <meta name="robots" content="index, follow">
        <meta name="referrer" content="origin-when-crossorigin">
        <meta name="google-site-verification" content=""><!-- FILL THIS -->
        <meta name="baidu-site-verification" content=""><!-- FILL THIS -->

        {#
            Here define SEO tags, that dont require to be loaded as fast as can
            It's include the description and subject metatags, and JSON-LD microdata
        #}
        {% if "description" in config %}
            <meta name="description" content="{{ config.description }}">
        {% endif %}
        {% if "subject" in config %}
            <meta name="subject" content="{{ config.subject }}">
        {% endif %}
        <script type="application/ld+json">
            {
                "@context": "http://schema.org/",
                "@type": "Organization",
                {% if "domain" in config %}
                    "@id": "https://{{ config.domain }}",
                    "url": "https://{{ config.domain }}",
                {% endif %}
                {% if "description" in config %}
                    "slogan": "{{ config.description }}",
                    "description": "{{ config.description }}",
                {% endif %}
                {% if "preview_image" in custom_data %}
                    "logo": "{{ config.static_url }}/{{ custom_data.preview_image }}",
                    "image": "{{ config.static_url }}/{{ custom_data.preview_image }}"
                {% endif %}
            }
        </script>

        {#
            Author meta tag, don't require for SEO or UX and for any configuration,
            but it still important to contact to the site webmaster
        #}
        <meta name="author" content="/humans.txt">

    </head>

    <body>

        {# Google Tag Manager #}
        {% if "google_tag_manager" in config %}
            <noscript>
                <iframe
                    src="https://www.googletagmanager.com/ns.html?id={{ config.google_tag_manager }}"
                    height="0"
                    width="0"
                    style="display:none;visibility:hidden"
                ></iframe>
            </noscript>
        {% endif %}

        <!-- Add here the main content -->
        <h1>Hello World</h1>

        {# Modernizr.js v2.8.3 #}
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

        {#
            Custom late javascript
            It's include service worker installation.
        #}
        <script>
            if ("serviceWorker" in navigator) {
                if (!navigator.serviceWorker.controller) {
                    navigator.serviceWorker.register("{{ config.static_url }}/sw.js", {scope: "/"});
                }
            }
        </script>

    </body>

</html>